[
  {
    "articleStyle": 2,
    "customOrder": -10098576,
    "enableJs": true,
    "enabled": true,
    "enabledCookieJar": true,
    "header": "{\n\"User-Agent\":\"Mozilla/5.0 (Android 14; Mobile; rv:120.0) Gecko/120.0 Firefox/120.0\"\n}",
    "lastUpdateTime": 0,
    "loadWithBaseUrl": false,
    "loginUrl": "https://www.inmi.app",
    "ruleArticles": "$.list",
    "ruleContent": "<js>\nvar tab_name=\"\",url_list=\"\";\n$=JSON.parse(result);\nres=$.list[0].vod_play_url;\nlist=(list=res.split('$$$'))?(String(list[1]).match(/\\.(mp4|m3u8)/)?list[1]:list[0]).split('#'):res.split('#');\nfor(i in list){\n\tlist1=list[i].split('$');\n\turl_list+=`<li><a link=\"${list1[1]}\">${list1[0]}</a></li>\\n`;\n}\ntab_name=`<li>播放<span>${list.length}</span></li>\\n`;\nurl_list=`<ul class=\"play_list\">${url_list}</ul>`\n//获取简介❗️\njava.log(JSON.stringify($))\n$.list[0].vod_remarks?desc=$.list[0].vod_remarks:desc=$.list[0].vod_score+\"分\";\narea=$.list[0].vod_class;\nyear=$.list[0].vod_year;\nsort=`•${area}•${year}`;\nintro=$.list[0].vod_content;\nintro=String(intro).replace(/　　/g,'');\n\n//最后结果，拼接完整网页\nresult=`\n<html>\n<title>${java.get('title')}</title>\n<meta name=\"viewport\" content=\"width=device-width,initial-scale=1.0,minimum-scale=1.0,maximum-scale=1.0,user-scalable=no\">\n<!--引入jquery-->\n<script src=\"https://code.jquery.com/jquery-3.0.0.min.js\"></script>\n\n<!--播放器-->\n<div id=\"Player\">\n  <iframe src=\"\" border=\"0\" marginwidth=\"0\" framespacing=\"0\" marginheight=\"0\" frameborder=\"0\" scrolling=\"no\" vspale=\"0\" allowfullscreen=\"ture\" noresize=\"\"></iframe>\n</div>\n<div style=\"width:100%;height:28%\"></div>\n\n<!--简介卡片 -->\n<div class=\"card v_info mb20\">\n    <!--标题 -->\n    <h2 class=\"v_title\">${java.get('title')}</h2>\n    <!--状态、日期、分类 -->\n    <p class=\"v_desc\">\n       <span class=\"desc\">${desc}</span>\n       <span>${sort}</span>\n       <!--简介按钮 -->\n       <span class=\"open_content\" id=\"open_content\">简介</span>\n    </p>\n    <div class=\"v_content\" id=\"v_content\" style=\"display:none;\">\n      <!--封面图片 -->\n      <div class=\"cover\" style=\"\">\n         <img src=\"${java.get('pic')}\"></img>\n      </div>\n      <!--剧情信息 -->\n      <div class=\"content\" id=\"intro_content\">\n        <div id=\"intro\">\n       <p style=\"text-indent:2em;\">${intro}</p>\n       <!--简介展开 -->\n      <div class=\"show_more\" id=\"show_more\" style=\"display: block;\"></div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class=\"card mb20\">\n    <!--线路切换-->\n    <ul class=\"tab_control play_from\">\n        ${tab_name}\n    </ul>\n    <div style=\"height:34px;\"></div>\n    <!--所有播放列表与排序-->\n    <div class=\"tab_content\" id=\"play_list\">\n        <div class=\"play_list_sort\" id=\"play_list_sort\">\n⇅ 正序/倒序</div>\n        ${url_list}\n    </div>\n</div>\n</html>\n\n<script>\n\t//tab按钮线路切换\n var $li = $('.tab_control li');\n var $ul = $('.tab_content ul');\n $li.click(function(){\n    var $this = $(this);\n    var $t = $this.index();\n    $li.removeClass('current');\n    $this.addClass('current');\n    $ul.removeClass('current');\n    $ul.eq($t).addClass('current');\n });\n //选择集数\n var $play_li= $('.play_list li');\n var play= $('#Player');\n var iframe= $('#Player iframe');\n $play_li.click(function(){\n    var $this = $(this);\n    var $t=$this.index();\n    //获取之前的播放链接\n    var bf=$('.play_list li.current');\n    bf=bf.children('a').attr('link');\n    //改变li标签的CSS样式\n    $play_li.removeClass('current');\n    $this.addClass('current');\n    //获取播放链接和标题\n    url=$this.children('a').attr('link');\n    text=$this.children('a').text();\n    //判断链接是否相同，不同就发送请求\n    if(url!=bf){\n    \treq();\n    }\n });\n //发送请求\n function req(){\n \t   jx=\"https://jiexi.modujx01.com/?url=\";\n    //给iframe的src赋值\n    iframe.attr('src',jx+url);\n  }\n //播放列表排序 \n function set_sort(){ \n \t var box = $('#play_list ul.current');\n \t var el = box.find('li');\n \t var newEl = Array.prototype.reverse.call(el);\n \t for(var i = 0 ;i<newEl.length;i++){\n \t  \t box.append(newEl[i]) \n \t }; \n \t}\n $('#play_list_sort').bind('click',function(){ \n \t  set_sort(); \n \t});\n \t\n \t//-------------详情页相关-------------- \n \tvar open_content = $('#open_content');\n \tvar intro_content = $('#intro_content'); \n \tvar show_more = $('#show_more'); \n \tvar cover = $('#v_content .cover'); \n \t//展开简历块 \n \topen_content.click(function(){ \n \t\t$('#v_content').toggle(); \n \t\tvar intro_height = $('#intro').get(0).offsetHeight; \n \t\tif(intro_height > 114){ \n \t\t\tshow_more.show(); \n \t\t}; \n \t}); \n \t//内容超出显示更多按钮 \n \tif($(\"#intro\").length>0){\n \t\t var intro_height = $('#intro').get(0).offsetHeight; \n \t\t if(intro_height > 114){\n \t\t \t show_more.show(); \n \t\t \t}; \n \t} \n \t//展开更多内容 \n \tintro_content.click(function(){\n \t\t intro_content.toggleClass('auto'); \n \t\t show_more.toggle(); \n \t\t cover.toggle(); \n \t});\n \t\n \t//初始化\n   (()=>{\n   \t $('.play_list').eq(0).addClass('current');\n\t    $('.play_list li').eq(0).addClass('current');\n\t    $('.tab_control li').eq(0).addClass('current');\n\t    url=$('.play_list li.current a').attr('link');\n\t    req();\n\t  })();\n</script>\n`\n</js>",
    "ruleImage": "$.vod_pic\n<js>\njava.put('pic',result)\n</js>",
    "ruleLink": "/api.php/provide/vod/?ac=videolist&ids={{$.vod_id}}",
    "ruleNextPage": "page",
    "rulePubDate": "类型: {{$.vod_class}} 作者: {{$.vod_actor}}",
    "ruleTitle": "$.vod_name\n<js>\njava.put('title',result)\n</js>",
    "singleUrl": false,
    "sortUrl": "@js:\nx=0\n$ = [\n[\"00-暴风\",\"https://app.bfzyapi.com\"],\n[\"01-卧龙\",\"https://collect.wolongzyw.com\"],\n[\"02-非凡\",\"https://cj.ffzyapi.com\"],\n[\"03-金鹰\",\"https://jyzyapi.com\"],\n[\"04-量子\",\"https://cj.lziapi.com\"],\n[\"05-飘零\",\"https://p2100.net\"],\n[\"06-虎牙\",\"https://www.huyaapi.com\"],\n[\"07-FF\",\"https://cj.ffzyapi.com\"],\n[\"08-hyzy\",\"https://www.huyaapi.com\"],\n[\"09-百度\",\"https://api.apibdzy.com\"],\n[\"10-极速\",\"https://jszyapi.com\"],\n[\"11-闪电\",\"https://api.yparse.com\"],\n]\n\napi=$[x][1]+\"/api.php/provide/vod\"\nurl=api+\"?ac=detail&pg={{page}\\}\";\n\n//刷新分类时弹窗当前api\njava.toast(String($[x][0]).replace(/\\/api\\.php.*/,''))\n\n\n//搜索url\nfunction surl(){\nkey=source.getVariable()\nif(key==\"\"||key==null){\nsource.setVariable('我的');//默认搜索关键词\n\t}\nkey=source.getVariable()\nreturn \"变量搜索::\"+url+\"&wd={{source.getVariable()}}\\n\";\n}\n\n\n//分类url\nsort=cache.get(api);\nif(sort==null){//分类无缓存时调用\nsort=\"\";x=0\n\n//获取分类URL\nfunction getUrls(){\ntry{\n\t\turllist = []\n\t\tI = JSON.parse(java.ajax(api)).class.map($=>{\n\t\t\t\tturl = url+\"&t=\"+$.type_id;\n\t\t\t\turllist.push(turl);\n\t\t\t\treturn $.type_name+\"::\"+turl;\n\t\t\t}).join('\\n').split('\\n');\n\t\tx = 0\n\t\tjava.toast('获取分类成功,校验中')\n\t\treturn verifyUrls()\n\t}\ncatch(e){//ajax失败会重新请求两次\n\t\tx++\n\t\tif(x<3){\n\t\t\t\tjava.toast('ajax err\\n　Try again  get Urls '+x)\n\t\t\t\treturn getUrls()\n\t\t\t}\n\t\telse{\n\t\t\t\treturn java.toast('分类获取失败')\n\t\t\t}\n\t}\n}\n\n//校验分类URL\n//加载urllist的链接，测试能否获取name，如果无法获取name就定义为失效分类，保存剩下的有效分类在sort\nfunction verifyUrls(){\ntry{\n\t\tjava.ajaxAll(urllist).map((a,i)=>{\n\t\t\t\ttry{\n\t\t\t\t\t\ta = JSON.parse(a.body()).list[0].vod_name;\n\t\t\t\t\t}\n\t\t\t\tcatch(e){\n\t\t\t\t\t\ta = undefined\n\t\t\t\t\t}\n\t\t\t\tsort += a!=undefined?\"\\n\"+I[i]:\"\";\n\t\t\t});\n\t\tcache.put(api,sort)\n\t}\ncatch(e){//ajaxAll失败会重新加载两次\n\t\tx++\n\t\tif(x<3){\n\t\t\t\tjava.toast('ajaxAll err\\n　Try again  verify Urls '+x)\n\t\t\t\treturn verifyUrls()\n\t\t\t}\n\t\telse{\n\t\t\t\treturn java.toast('No  verify Urls\\n　Sort  acquisition failure')\n\t\t\t}\n\t}\n}\n\t\tgetUrls()\n\t}\n\n\n//最后拼接，删掉\"surl()+\"可以关闭搜索\n\"最近更新::\"+url+'\\n'+\nsurl()+\nsort",
    "sourceGroup": "pcrock",
    "sourceIcon": "https://pcrock88.github.io/favicon.ico",
    "sourceName": "0-cms通用",
    "sourceUrl": "http://bfzyapi.com",
    "style": "*{\n\tmargin:0;padding:0;\n}\nhtml{\n\tbackground-color:#222;\n}\na{\n\ttext-decoration:none;\n\tcolor:#222;\n}\nul{\n\tlist-style:none;\n}\niframe{\n\twidth:100%;height:100%;\n}\nh1,h2,h3,h4,h5,h6{\n\tfont-size:100%;font-weight:normal;\n}\nimg,video{\n\theight:auto;max-width:100%;\n}\n#Player{\n\tposition:fixed;\n\ttop:0;left:0;\n\twidth:100%;height:28%;\n\tz-index:99999;\n\tbackground-color:black;\n}\n\n/*块通用*/ \n.card{padding:15px 15px 0 15px;}\n.card .c_header{display: flex;flex-direction: row;justify-content: space-between;padding-bottom:20px;} \n.card .c_title{font-size:18px;color:#fff;font-weight:700;} \n.card .c_title a{color:#fff;} \n.card .c_right a{color:#666;} \n.card .clear_history{color:#FDD835;display:none;}\n\n/*详情页资料卡*/ \n.v_info .v_title,.v_info .v_title{font-size:22px;color:#eee;line-height:26px;} .v_info .v_desc{position:relative;font-size:12px;color:#999;padding-top:4px;} .v_info .v_desc a{color:#999;} .v_info .v_desc .desc{color:#FF3D00;font-weight:700;} .v_info .hr{color:#666;padding:0 4px;} .v_info .open_content{position:absolute;bottom:0;right:20px;color:#FFB026;text-decoration: underline;padding-left:10px;} .v_info .v_content{display:flex;padding-top:20px;} .v_info .cover,.v_info img{width:80px;height:113px;background:#333;} .v_info .cover{margin-right:10px;} .v_info .content{height:114px;overflow:hidden;font-size:12px;flex:1;color:#999;line-height:19px;position: relative;} .v_info .show_more{position: absolute;bottom:0;right:0;width:100%;padding:38px 0 19px 0;height:19px;background: linear-gradient(to bottom, rgba(34,34,34,0) 0%,rgba(34,34,34,1) 100%);color:#eee;text-align:center;display:none;} .v_info .auto{height:auto;}\n\n/*tab */ \n.tab_control{position:absolute;display: flex;flex-direction: row;overflow-x:scroll;width:92.3%} \n.tab_control li{flex:1;position:relative;height:30px;line-height:34px;top:4px;text-align:center;color:#666;cursor:pointer;overflow: hidden;} \n.tab_control li span{display: inline-block;min-width: 10px;padding: 2px 2px;font-size: 9px;font-weight: 700;line-height: 1;color: #fff;text-align: center;white-space: nowrap;vertical-align: middle;background-color:#FFB026;border-radius: 2px;}\n.tab_control li.current{z-index:99;height:37px;font-weight:700;color:#eee;background-image:linear-gradient(180deg, #BF360C 0%, #444 90%);border-radius: 4px 4px 0 0;} \n.tab_content{padding:12px;background: #444;box-shadow: 0 2px 8px 0 rgba(0,0,0,0.50);border-radius: 5px;} \n.tab_content ul.current{display:block;} \n\n/*播放来源、地址、排序*/\n#play_list ul.current{display:flex;} .play_from li{flex:none;padding:0 10px;} .play_list{display:none;flex-flow: wrap;margin-right:-10px;} .play_list li{width:25%;margin-bottom:10px;} .play_list li a{overflow:hidden;height:40px;line-height:40px;border-radius: 5px;display:block;background:#222;color:#999;text-align:center;margin-right:10px;} .play_list li a:visited{color:#444;} .play_list li.current a{border: 1px solid #BF360C;color:#BF360C;} \n\n/*处理电影的集数宽度*/ \n.large li{width:25%;} .play_list_sort{padding-bottom:20px;color:#999;} \n\n/*遮罩*/ \n.mask{width:100%;height:100%;background:rgba(0, 0, 0, 0.5);position: fixed;left:0;top:0;display: none;} \n\n/*白天主题配色*/\n@media(prefers-color-scheme:light){\nhtml{background:#FEFEFE;}\n.v_title{color:black !important;}\n.v_desc,.v_desc a,#intro{color:#444 !important;}\n.open_content{color:#4898E0 !important;}\n#show_more{background: linear-gradient(to bottom,transparent,#FEFEFE 100%);}\n.tab_content{background:#FEFEFE;}\n.tab_control li span{background:#4898E0;}\n.tab_control li.current{color:#eee;background: linear-gradient(to bottom,black 10%,white 90%);}\n.play_list li a{color:#444;background:#eee;}\n.play_list li.current a{color:black;border:2px solid black;}\n} \n"
  }
]